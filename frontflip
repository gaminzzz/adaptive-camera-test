local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local player = Players.LocalPlayer

-- Cooldown to prevent spam
local flipCooldown = false

-- Tweak these for strength/speed
local forwardBoost = 200 -- how far forward to launch
local upwardBoost = 60   -- how high to launch
local flipSpeed = 80     -- how fast the character rotates

local function doFrontFlip()
	if flipCooldown then return end
	flipCooldown = true

	local character = player.Character or player.CharacterAdded:Wait()
	local root = character:WaitForChild("HumanoidRootPart")

	-- Launch: Forward and upward
	local bv = Instance.new("BodyVelocity")
	bv.Velocity = root.CFrame.LookVector * forwardBoost + Vector3.new(0, upwardBoost, 0)
	bv.MaxForce = Vector3.new(1e6, 1e6, 1e6)
	bv.P = 1e5
	bv.Parent = root

	-- Rotation: Frontflip (rotate around local X = RightVector)
	local bav = Instance.new("BodyAngularVelocity")
	bav.AngularVelocity = root.CFrame.RightVector * flipSpeed
	bav.MaxTorque = Vector3.new(1e6, 1e6, 1e6)
	bav.P = 1e5
	bav.Parent = root

	-- Remove after ~0.8s
	task.delay(0.8, function()
		bv:Destroy()
		bav:Destroy()
		flipCooldown = false
	end)
end

-- Trigger with Z
UserInputService.InputBegan:Connect(function(input, gameProcessed)
	if gameProcessed then return end
	if input.KeyCode == Enum.KeyCode.Z then
		doFrontFlip()
	end
end)
