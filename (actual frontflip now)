local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local player = Players.LocalPlayer

local flipCooldown = false

-- Tweak force and speed to your liking
local forwardBoost = 200
local upwardBoost = 60
local flipSpeed = 80

local function doFrontFlip()
	if flipCooldown then return end
	flipCooldown = true

	local character = player.Character or player.CharacterAdded:Wait()
	local root = character:WaitForChild("HumanoidRootPart")

	-- Apply forward + upward launch
	local bv = Instance.new("BodyVelocity")
	bv.Velocity = root.CFrame.LookVector * forwardBoost + Vector3.new(0, upwardBoost, 0)
	bv.MaxForce = Vector3.new(1e5, 1e5, 1e5)
	bv.P = 1e4
	bv.Parent = root

	-- Rotate around local X (RightVector) for frontflip
	local bav = Instance.new("BodyAngularVelocity")
	bav.AngularVelocity = root.CFrame.RightVector * flipSpeed
	bav.MaxTorque = Vector3.new(1e5, 1e5, 1e5)
	bav.P = 1e4
	bav.Parent = root

	task.delay(0.8, function()
		bv:Destroy()
		bav:Destroy()
		flipCooldown = false
	end)
end

-- Activate with Z
UserInputService.InputBegan:Connect(function(input, gameProcessed)
	if gameProcessed then return end
	if input.KeyCode == Enum.KeyCode.Z then
		doFrontFlip()
	end
end)
